"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[810],{10351:(A,v,a)=>{a.r(v),a.d(v,{ActivityModule:()=>l});var r=a(69808),p=a(91083),x=a(17445),O=a(54004),t=a(5e3),g=a(47423),u=a(68326),m=a(85899);function y(n,o){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-progress-bar",14),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("value",e.activityData[i.uuid])}}function f(n,o){if(1&n&&(t.TgZ(0,"div",15),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.activityData[i.uuid])," ")}}function h(n,o){if(1&n&&(t.TgZ(0,"div",15),t._uU(1),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij(" ",e.activityData[i.uuid],"")}}function _(n,o){if(1&n&&(t.TgZ(0,"div",10),t.TgZ(1,"div",11),t._uU(2),t.qZA(),t.YNc(3,y,2,1,"div",12),t.YNc(4,f,3,3,"div",13),t.YNc(5,h,2,1,"div",13),t.qZA()),2&n){const i=o.$implicit;t.xp6(2),t.hij("",i.lable,":"),t.xp6(1),t.Q6J("ngIf","processbar"===i.type),t.xp6(1),t.Q6J("ngIf","countdown"===i.type),t.xp6(1),t.Q6J("ngIf","common"===i.type)}}const d=[{path:"",component:(()=>{class n{constructor(i,e){this.activedRoute=i,this.location=e}getCounter(i){const e=new Date(i);return(0,x.F)(1e3).pipe((0,O.U)(()=>this.dhms(e.getTime()-(new Date).getTime())))}dhms(i){return[parseInt(i/864e5+"")+"d",parseInt(i%864e5/36e5+"")+"h",parseInt(i%36e5/6e4+"")+"m",parseInt(i%6e4/1e3+"")+"s"].join(":")}ngOnInit(){this.getActivityInfo().then(()=>this.getActivityData()).then(i=>this.rebuildData(i)).then(i=>this.activityData=i)}getActivityInfo(){const i=this.activedRoute.snapshot.paramMap.get("activityName");return fetch(`/assets/activity/${i}.json`).then(e=>e.text()).then(e=>this.activityInfo=JSON.parse(e))}getActivityData(){return{activityProgress:"40",activityCountdown:"January 1, 2023 12:00:00",totalRewards:"100 TiTi",todayRewards:"100 TiTi",claimableRewards:"10 TiTi"}}rebuildData(i){var e;return null===(e=this.activityInfo)||void 0===e||e.metadata.forEach((c,M)=>{"countdown"===c.type&&(i[c.uuid]=this.getCounter(i[c.uuid]))}),i}goBack(){this.location.back()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.gz),t.Y36(r.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-activity"]],decls:16,vars:3,consts:[[1,"activity-wrapper"],[1,"activity-card","mat-elevation-z4"],[1,"activity-title"],["mat-button","","color","primary",1,"back-btn",3,"click"],[2,"margin-right","4px"],[1,"activity-data-wrapper"],["class","activity-data-item",4,"ngFor","ngForOf"],[1,"divider"],[1,"desc-title"],[1,"descripion"],[1,"activity-data-item"],[1,"lable"],[4,"ngIf"],["class","value",4,"ngIf"],["mode","determinate",3,"value"],[1,"value"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"button",3),t.NdJ("click",function(){return e.goBack()}),t.TgZ(4,"mat-icon",4),t._uU(5,"arrow_back"),t.qZA(),t._uU(6," back "),t.qZA(),t.TgZ(7,"h1"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"div",5),t.YNc(10,_,6,4,"div",6),t.qZA(),t._UZ(11,"div",7),t.TgZ(12,"p",8),t._uU(13,"Tips:"),t.qZA(),t.TgZ(14,"p",9),t._uU(15),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(8),t.Oqu(null==e.activityInfo?null:e.activityInfo.name),t.xp6(2),t.Q6J("ngForOf",null==e.activityInfo?null:e.activityInfo.metadata),t.xp6(5),t.Oqu(null==e.activityInfo?null:e.activityInfo.description))},directives:[g.lW,u.Hw,r.sg,r.O5,m.pW],pipes:[r.Ov],styles:[".activity-wrapper[_ngcontent-%COMP%]{padding:12px;margin-right:60px;width:100%;min-height:calc(100vh - 200px);box-sizing:border-box}.activity-card[_ngcontent-%COMP%]{padding:60px 12px 12px}.titi-dark-theme[_nghost-%COMP%]   .divider[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:16px 0;background:linear-gradient(90deg,rgba(255,255,255,0),#0F5F4F,rgba(255,255,255,0))}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:16px 0;background:#dafff8}.activity-title[_ngcontent-%COMP%]{width:90%;display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:36px;top:36px}.desc-title[_ngcontent-%COMP%]{margin-left:12px;color:#00c997}.descripion[_ngcontent-%COMP%]{padding:4px 12px;font-size:8px;word-wrap:break-word;word-break:break-all;white-space:pre-line;overflow-x:hidden;overflow-y:scroll}.activity-data-wrapper[_ngcontent-%COMP%]{padding:12px;width:60%;margin:0 15%}.activity-data-item[_ngcontent-%COMP%]{margin:28px 0;display:grid;font-size:18px;grid-template-columns:50% 50%;align-items:center}.activity-data-item[_ngcontent-%COMP%]   .lable[_ngcontent-%COMP%]{justify-self:start;align-self:center}.activity-data-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{justify-self:end;align-self:center;color:#2b9177}.titi-dark-theme[_nghost-%COMP%]   .value[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{color:#00ffea}@media screen and (max-width: 1024px){.activity-wrapper[_ngcontent-%COMP%]{width:100%;padding:12px;box-sizing:border-box}.activity-card[_ngcontent-%COMP%]{padding:60px 12px 12px}.activity-title[_ngcontent-%COMP%]{width:100%}.activity-data-wrapper[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.back-btn[_ngcontent-%COMP%]{position:absolute;left:12px;top:36px}.activity-data-wrapper[_ngcontent-%COMP%]{padding:12px;width:100%;margin:0;box-sizing:border-box}.descripion[_ngcontent-%COMP%]{box-sizing:border-box}}"]}),n})()}];let s=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[p.Bz.forChild(d)],p.Bz]}),n})(),l=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,s,m.Cv,u.Ps,g.ot]]}),n})()},4128:(A,v,a)=>{a.d(v,{D:()=>m});var r=a(68306),p=a(54742),x=a(38421),O=a(63269),t=a(25403),g=a(83268),u=a(31810);function m(...y){const f=(0,O.jO)(y),{args:h,keys:_}=(0,p.D)(y),C=new r.y(d=>{const{length:s}=h;if(!s)return void d.complete();const l=new Array(s);let n=s,o=s;for(let i=0;i<s;i++){let e=!1;(0,x.Xf)(h[i]).subscribe(new t.Q(d,c=>{e||(e=!0,o--),l[i]=c},()=>n--,void 0,()=>{(!n||!e)&&(o||d.next(_?(0,u.n)(_,l):l),d.complete())}))}});return f?C.pipe((0,g.Z)(f)):C}}}]);