"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[905],{13905:(L,u,r)=>{r.r(u),r.d(u,{Use2earnModule:()=>J});var p=r(69808),c=r(91083),e=r(5e3),g=r(32681),h=r(31657),T=r(48966),f=r(11730),C=r(92134),m=r(47423),o=r(32075),U=r(75303);function _(t,n){1&t&&(e.TgZ(0,"th",20),e._uU(1,"Act."),e.qZA())}function Z(t,n){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.act)}}function x(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Total Rewards"),e.qZA())}function v(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.total,2)," TiTi")}}function w(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Pending Rewards"),e.qZA())}function b(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.personal,2)," TiTi")}}function y(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Expected Daily Rewards"),e.qZA())}function S(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.rate,2)," TiTi/Day")}}function A(t,n){1&t&&e._UZ(0,"tr",24)}function D(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"tr",25),e.NdJ("click",function(){const s=e.CHM(a).$implicit;return e.oxw().onRowClick(s)}),e.qZA()}}function R(t,n){1&t&&(e.TgZ(0,"th",20),e._uU(1,"Act."),e.qZA())}function P(t,n){if(1&t&&(e.TgZ(0,"td",21),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.act)}}function M(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Total Rewards"),e.qZA())}function O(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.total,2)," TiTi")}}function Y(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Pending Rewards"),e.qZA())}function N(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.personal,2)," TiTi")}}function q(t,n){1&t&&(e.TgZ(0,"th",22),e._uU(1,"Expected Daily Rewards"),e.qZA())}function Q(t,n){if(1&t&&(e.TgZ(0,"td",23),e._uU(1),e.ALo(2,"numberFormat"),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.hij("",e.xi3(2,1,a.rate,2)," TiTi/Day")}}function B(t,n){1&t&&e._UZ(0,"tr",24)}function F(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"tr",25),e.NdJ("click",function(){const s=e.CHM(a).$implicit;return e.oxw().onRowClick(s)}),e.qZA()}}const k=[{path:"",component:(()=>{class t{constructor(a,i,l,s,d){this.router=a,this.use2earnService=i,this.refreshService=l,this.dialog=s,this.web3Service=d,this.displayedColumns=["act","total","personal","rate"],this.dataSource1=[],this.dataSource2=[],this.clickedRows=new Set}ngOnInit(){this.initData(),this.unregister=this.refreshService.registerFunction(()=>this.initData())}ngOnDestroy(){this.unregister()}initData(){this.fetchUserData().then(()=>this.buildDataSource())}fetchUserData(){return this.use2earnService.fetchUserData()}buildDataSource(){this.dataSource1=[{act:"Buy TiUSD in MAMM",total:this.use2earnService.buyTiUSDReward,personal:this.use2earnService.buyTiUSDPersonalReward,rate:this.use2earnService.buyTiUSDPersonalRewardRate,url:"/use2earn/activity/buyTiUSD"},{act:"Transfer TiUSD",total:this.use2earnService.transferTiUSDReward,personal:this.use2earnService.transferTiUSDPersonalReward,rate:this.use2earnService.transferTiUSDPersonalRewardRate,url:"/use2earn/activity/useTiUSD"},{act:"TiUSD Holder",total:this.use2earnService.holdTiUSDReward,personal:this.use2earnService.holdTiUSDPersonalReward,rate:this.use2earnService.holdTiUSDPersonalRewardRate,url:"/use2earn/activity/holdTiUSD"}],this.dataSource2=[{act:"Buy TiTi in Uniswap",total:this.use2earnService.buyTiTiReward,personal:this.use2earnService.buyTiTiPersonalReward,rate:this.use2earnService.buyTiTiPersonalRewardRate,url:"/use2earn/activity/buyTiTi"}]}onRowClick(a){this.router.navigateByUrl(a.url)}onClaim(){r.e(797).then(r.bind(r,51797)).then(({TitiStakingModalComponent:a})=>{this.dialog.open(a).afterClosed().subscribe(l=>{this.web3Service.invokeContract("TiTiMerkleDistributor",l?"claim":"claimAndStake",[])})})}}return t.\u0275fac=function(a){return new(a||t)(e.Y36(c.F0),e.Y36(g.Q),e.Y36(h.g),e.Y36(T.uw),e.Y36(f.Uc))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-use2earn"]],decls:60,vars:19,consts:[[1,"use2earn-wrapper"],[1,"mat-elevation-z4","biz-info-card"],[1,"title"],["text","Accumulated TiTi Rewards distributed to use-to-earn behaviors."],[1,"value"],["text","Accural of unclaimable rewards in your account until the distribution is triggered."],["text","Accural of claimable rewards in your account at anytime."],["mat-raised-button","","color","primary",1,"action-btn",3,"disabled","click"],[1,"mat-elevation-z4","activity-table-wrapper"],["mat-table","",1,"activity-table",3,"dataSource"],["matColumnDef","act"],["mat-header-cell","","class"," left-align",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","total"],["mat-header-cell","","class"," right-align",4,"matHeaderCellDef"],["mat-cell","","class"," right-align",4,"matCellDef"],["matColumnDef","personal"],["matColumnDef","rate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"left-align"],["mat-cell",""],["mat-header-cell","",1,"right-align"],["mat-cell","",1,"right-align"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h2",2),e._uU(3,"Distributed TiTi Rewards"),e._UZ(4,"titi-tooltip",3),e.qZA(),e.TgZ(5,"span",4),e._uU(6),e.ALo(7,"numberFormat"),e.qZA(),e.qZA(),e.TgZ(8,"div",1),e.TgZ(9,"h2",2),e._uU(10,"Your Pending Rewards"),e._UZ(11,"titi-tooltip",5),e.qZA(),e.TgZ(12,"span",4),e._uU(13),e.ALo(14,"numberFormat"),e.qZA(),e.qZA(),e.TgZ(15,"div",1),e.TgZ(16,"h2",2),e._uU(17,"Your Claimable Rewards"),e._UZ(18,"titi-tooltip",6),e.qZA(),e.TgZ(19,"span",4),e._uU(20),e.ALo(21,"numberFormat"),e.qZA(),e.TgZ(22,"button",7),e.NdJ("click",function(){return i.onClaim()}),e._uU(23,"CLAIM"),e.qZA(),e.qZA(),e.TgZ(24,"div",8),e.TgZ(25,"h2"),e._uU(26,"Inter-Protocol Behaviors"),e.qZA(),e.TgZ(27,"table",9),e.ynx(28,10),e.YNc(29,_,2,0,"th",11),e.YNc(30,Z,2,1,"td",12),e.BQk(),e.ynx(31,13),e.YNc(32,x,2,0,"th",14),e.YNc(33,v,3,4,"td",15),e.BQk(),e.ynx(34,16),e.YNc(35,w,2,0,"th",14),e.YNc(36,b,3,4,"td",15),e.BQk(),e.ynx(37,17),e.YNc(38,y,2,0,"th",14),e.YNc(39,S,3,4,"td",15),e.BQk(),e.YNc(40,A,1,0,"tr",18),e.YNc(41,D,1,0,"tr",19),e.qZA(),e.qZA(),e.TgZ(42,"div",8),e.TgZ(43,"h2"),e._uU(44,"Ex-protocol behaviors"),e.qZA(),e.TgZ(45,"table",9),e.ynx(46,10),e.YNc(47,R,2,0,"th",11),e.YNc(48,P,2,1,"td",12),e.BQk(),e.ynx(49,13),e.YNc(50,M,2,0,"th",14),e.YNc(51,O,3,4,"td",15),e.BQk(),e.ynx(52,16),e.YNc(53,Y,2,0,"th",14),e.YNc(54,N,3,4,"td",15),e.BQk(),e.ynx(55,17),e.YNc(56,q,2,0,"th",14),e.YNc(57,Q,3,4,"td",15),e.BQk(),e.YNc(58,B,1,0,"tr",18),e.YNc(59,F,1,0,"tr",19),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(6),e.hij("",e.xi3(7,10,i.use2earnService.distributedTiTiRewards,2)," TiTi"),e.xp6(7),e.hij("",e.xi3(14,13,i.use2earnService.buyTiUSDPersonalReward+i.use2earnService.transferTiUSDPersonalReward+i.use2earnService.holdTiUSDPersonalReward+i.use2earnService.buyTiTiPersonalReward,2)," TiTi"),e.xp6(7),e.hij("",e.xi3(21,16,i.use2earnService.totalClaimableRewards,2)," TiTi"),e.xp6(2),e.Q6J("disabled",0===i.use2earnService.totalClaimableRewards),e.xp6(5),e.Q6J("dataSource",i.dataSource1),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(4),e.Q6J("dataSource",i.dataSource2),e.xp6(13),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns))},directives:[C.Q,m.lW,o.BZ,o.w1,o.fO,o.Dz,o.as,o.nj,o.ge,o.ev,o.XQ,o.Gk],pipes:[U.p],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom:1px solid transparent;border-top:1px solid transparent;cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{border-color:#1de9b6}.use2earn-wrapper[_ngcontent-%COMP%]{padding:12px;display:grid;grid-template-columns:1fr 1fr 1fr 1fr 1fr 1fr;align-items:center;grid-column-gap:24px;column-gap:24px;grid-row-gap:24px;row-gap:24px}.biz-info-card[_ngcontent-%COMP%]{min-height:120px;padding:18px;grid-column-start:span 2;display:grid;grid-template-columns:1fr 1fr 1fr 1fr}.biz-info-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{grid-column-start:span 4;margin-left:12px}.biz-info-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{grid-column-start:span 3;align-self:end;font-size:18px;margin-left:12px}.biz-info-card[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{grid-column-start:span 1}.activity-table-wrapper[_ngcontent-%COMP%]{grid-column-start:span 3;padding:12px;display:flex;align-items:center;flex-direction:column;min-height:360px}.activity-table[_ngcontent-%COMP%]{width:100%;background-color:transparent}.activity-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .activity-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:0 4px}.activity-table[_ngcontent-%COMP%]   .left-align[_ngcontent-%COMP%]{text-align:left}.activity-table[_ngcontent-%COMP%]   .right-align[_ngcontent-%COMP%]{text-align:right}@media screen and (max-width: 1024px){.use2earn-wrapper[_ngcontent-%COMP%]{width:100%;padding:12px;margin:0;display:grid;grid-template-columns:1fr;grid-row-gap:12px;row-gap:12px;grid-column-gap:0;column-gap:0}.biz-info-card[_ngcontent-%COMP%]{width:100%;margin:0;min-height:80px}.activity-table-wrapper[_ngcontent-%COMP%]{width:100%;margin:0;padding:12px}}"]}),t})()}];let z=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[c.Bz.forChild(k)],c.Bz]}),t})();var j=r(87841);let J=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.ez,z,o.p0,m.ot,j.m]]}),t})()}}]);