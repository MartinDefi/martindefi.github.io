"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[781],{43781:(W,f,o)=>{o.r(f),o.d(f,{TestnetModule:()=>H});var m=o(69808),h=o(91083),A=o(5963),k=o(54004),Z=o(28321),x=o(98538),d=o.n(x),e=o(5e3),w=o(53405),I=o(31657),S=o(94602),R=o(11730),M=o(68326),v=o(47423),P=o(75303);function D(i,a){if(1&i&&(e.TgZ(0,"div",34),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span"),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"numberFormat"),e.qZA(),e.qZA()),2&i){const t=a.$implicit,n=a.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.hij("",e.xi3(7,3,t.amount,4)," TiTi")}}const U=[{path:"",component:(()=>{class i{constructor(t,n,s,r){this.graphService=t,this.refreshService=n,this.accountService=s,this.web3Service=r,this.USDCBalance=0,this.lastClaimTime=0,this.claimPeriod=0,this.claimable=!1,this.loading=!0,this.TiTiBalance=0,this.stakedTiTi=0,this.myRank="100+",this.rank=1e3,this.currentAddress="",this.stakingList=[]}ngOnInit(){this.initData(),this.unregister=this.refreshService.registerFunction(()=>this.initData()),this.counter$=(0,A.H)(0,1e3).pipe((0,k.U)(()=>{const t=1e3*this.lastClaimTime+1e3*this.claimPeriod-(new Date).getTime();return this.claimable=t<=0,(0,Z.fA)(t)}))}ngOnDestroy(){this.unregister()}initData(){this.accountService.getCurrentAccountAsyn().then(t=>(this.currentAddress=t,this.fetchTiTiStakingUserRank())),this.fetchBalanceOfUSDC(),this.fetchTiTiBalance(),this.fetchStakedTiTi(),this.fetchLastClaimTime(),this.fetchClaimPeriod()}fetchLastClaimTime(){this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("USDC","lastClaimTimes",[t]).then(n=>{this.lastClaimTime=1*n[0],this.loading=!1},()=>this.loading=!1))}fetchClaimPeriod(){this.web3Service.invokeContract("USDC","claimPeriod",[]).then(t=>{this.claimPeriod=1*t[0]})}fetchTiTiStakingUserRank(){this.graphService.fetchTiTiStakingUserRank(this.rank).then(({data:t})=>{this.myRank="1000+",this.stakingList=t.tiTiUserStakings.map((n,s)=>(n.id===this.currentAddress.toLowerCase()&&(this.myRank=`${s+1}`),{address:n.id,amount:n.stakedValue/10**18}))})}fetchBalanceOfUSDC(){this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("USDC","balanceOf",[t]).then(n=>{this.USDCBalance=n[0]/10**6}))}fetchTiTiBalance(){return this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("TiTiToken","balanceOf",[t]).then(n=>{this.TiTiBalance=n[0]/10**18}))}fetchStakedTiTi(){return this.accountService.getCurrentAccountAsyn().then(t=>Promise.all([this.web3Service.invokeContract("TiTiStaking","getStakeValue",[t]),this.web3Service.invokeContract("TiTiStaking","users",[t]),this.web3Service.invokeContract("TiTiStaking","WITHDRAW_DURATION",[]),this.web3Service.invokeContract("TiTiStaking","UNBONDING_DURATION",[]),this.web3Service.invokeContract("TiTiStaking","totalTiTi",[])]).then(([n,s,r,u,p])=>{const c=new(d())(s.share),g=new(d())(s.unbondShare);(new Date).getTime(),c.isZero()||Number.parseFloat((new(d())(n[0]).mul(g).div(c).div(new(d())(10**14)).toNumber()/1e4).toFixed(4)),this.stakedTiTi=n[0]/10**18}))}claimMUSDC(){this.loading=!0,this.web3Service.invokeContract("USDC","claim",[]).then(t=>{this.loading=!1},()=>this.loading=!1)}claimRinkebyETH(){window.open("https://faucets.chain.link/rinkeby")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(w.h),e.Y36(I.g),e.Y36(S.B),e.Y36(R.Uc))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-testnet"]],decls:155,vars:25,consts:[[1,"testnet-wrapper"],[1,"mat-elevation-z4",2,"grid-column-start","span 3","width","75%","justify-self","center","margin-bottom","40px"],[1,"title"],["routerLink","/testnet",2,"font-size","16px"],[2,"font-size","18px"],[1,"label"],[2,"width","100%","display","grid","grid-template-columns","2fr 4fr 1fr 1fr","row-gap","4px","padding","12px","margin-bottom","24px","border","1px solid rgb(132, 188, 173)","border-radius","0px"],[1,"divider",2,"grid-column-start","span 4","margin","8px 0"],[1,"label",2,"font-size","18px"],[2,"display","grid","width","100%","grid-template-columns","1fr 1fr 1fr 1fr","padding","12px 0","column-gap","24px"],["mat-raised-button","","routerLink","/mmf",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/lpmining",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/use2earn",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/titiStaking",1,"action-button",2,"width","100%","justify-self","center"],[1,"gradient-card",2,"grid-column-start","span 3","display","grid","width","75%","justify-self","center","grid-template-columns","1fr 1fr 1fr"],[1,"gradient-card-title",2,"grid-column-start","span 3","justify-self","center","width","100%"],[1,"gradient-card-content",2,"grid-column-start","span 3","grid-row-start","span 3","display","grid","width","100%","grid-template-columns","1fr 1fr","row-gap","12px","column-gap","36px"],[2,"justify-self","end"],["mat-raised-button","",2,"justify-self","end","width","60%",3,"ngClass","disabled","click"],["mat-raised-button","",1,"action-button",2,"justify-self","start","width","60%",3,"click"],[2,"grid-column-start","span 3","height","40px"],[1,"gradient-card",2,"grid-column-start","span 3","display","grid","width","75%","justify-self","center"],[1,"gradient-card-title",2,"width","100%"],[2,"display","grid","grid-template-columns","repeat(12,1fr)","width","100%","row-gap","24px"],[2,"grid-column-start","span 12","justify-self","center"],[2,"grid-column-start","span 3","justify-self","center"],[1,"gradient-card-content",2,"display","grid","grid-template-columns","repeat(12,1fr)","width","100%"],[2,"grid-column-start","span 12","justify-self","center","padding","24px 0 12px"],[2,"grid-column-start","span 2","justify-self","center"],[2,"grid-column-start","span 6","justify-self","center"],[2,"grid-column-start","span 4","justify-self","center"],[1,"divider",2,"grid-column-start","span 12","margin","12px 0"],[2,"grid-column-start","span 12","max-height","250px","min-height","150px","overflow-y","scroll"],["style","display: grid;grid-template-columns:1fr  3fr 2fr;justify-items: center;padding: 8px 0;",4,"ngFor","ngForOf"],[2,"display","grid","grid-template-columns","1fr  3fr 2fr","justify-items","center","padding","8px 0"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h2",2),e._uU(3," TiTi Testnet Championships "),e.TgZ(4,"a",3),e.TgZ(5,"mat-icon"),e._uU(6," open_in_new "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"p",4),e.TgZ(9,"span",5),e._uU(10,"Duration:"),e.qZA(),e._uU(11," May 5th - May 27th, 2022"),e.qZA(),e.TgZ(12,"p",4),e.TgZ(13,"span",5),e._uU(14,"Prize Money Pool: "),e.qZA(),e._uU(15,"$15,000"),e.qZA(),e.TgZ(16,"p",4),e.TgZ(17,"span",5),e._uU(18,"Prize Money Distribution"),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"span"),e._uU(21,"Winners' Title"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Position"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Prize"),e.qZA(),e.TgZ(26,"span"),e._uU(27,"Num"),e.qZA(),e._UZ(28,"div",7),e.TgZ(29,"span"),e._uU(30,"God Champions"),e.qZA(),e.TgZ(31,"span"),e._uU(32,"1st Place"),e.qZA(),e.TgZ(33,"span"),e._uU(34,"$500"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"1"),e.qZA(),e.TgZ(37,"span"),e._uU(38,"Superhero"),e.qZA(),e.TgZ(39,"span"),e._uU(40,"2nd-3rd Place"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"$200"),e.qZA(),e.TgZ(43,"span"),e._uU(44,"2"),e.qZA(),e.TgZ(45,"span"),e._uU(46,"Heroes"),e.qZA(),e.TgZ(47,"span"),e._uU(48,"4th-6th Place"),e.qZA(),e.TgZ(49,"span"),e._uU(50,"$100"),e.qZA(),e.TgZ(51,"span"),e._uU(52,"3"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"Warriors"),e.qZA(),e.TgZ(55,"span"),e._uU(56,"7th-100th Place"),e.qZA(),e.TgZ(57,"span"),e._uU(58,"$40"),e.qZA(),e.TgZ(59,"span"),e._uU(60,"94"),e.qZA(),e.TgZ(61,"span"),e._uU(62,"Athletes"),e.qZA(),e.TgZ(63,"span"),e._uU(64,"101st-400th Place"),e.qZA(),e.TgZ(65,"span"),e._uU(66,"$20"),e.qZA(),e.TgZ(67,"span"),e._uU(68,"300"),e.qZA(),e.TgZ(69,"span"),e._uU(70,"Daily Lucky Draw"),e.qZA(),e.TgZ(71,"span"),e._uU(72,"Random select 20 participants ranking 1~1000 everyday"),e.qZA(),e.TgZ(73,"span"),e._uU(74,"$10"),e.qZA(),e.TgZ(75,"span"),e._uU(76,"420"),e.qZA(),e.qZA(),e.TgZ(77,"p",8),e._uU(78,"Champion Rules"),e.qZA(),e.TgZ(79,"p"),e._uU(80,"Each competitor will start on the same ready line and claim Mock-USDC every 24 hours since May 5th. Afterwards, use your own skills and strategy to earn TiTi Token in Testnet with Mock-USDC. How to earn TiTi? Please refer to the tutorial here."),e.qZA(),e.TgZ(81,"p"),e._uU(82,"Earn as many TiTi tokens as possible and stake to the TiTi Staking Pool. The more TiTi you staked, the higher chance you will top the rank and become the god-champion. The prize money will be distributed to you based on your ranking as illustrated above."),e.qZA(),e.TgZ(83,"p"),e._uU(84,"At the same time, we will randomly select 20 lucky winners ranking 1~1000 who stake TiTi in TiTi Staking Pool. For details, please refer to our blog artilce."),e.qZA(),e.TgZ(85,"p",8),e._uU(86,"Reminders"),e.qZA(),e.TgZ(87,"p"),e._uU(88,"1. You can claim 10,000 Mock-USDC every 24hrs."),e.qZA(),e.TgZ(89,"p"),e._uU(90,"2. In the testnet, TiTi/TiUSD/MockUSDC transfers between users account are banned to make sure the championships is fair for every competitor. These restrictions will be removed at mainnet."),e.qZA(),e.TgZ(91,"p",8),e._uU(92,"The behavior of obtaining TiTi is as follows:"),e.qZA(),e.TgZ(93,"div",9),e.TgZ(94,"button",10),e._uU(95,"MMF"),e.qZA(),e.TgZ(96,"button",11),e._uU(97,"LP Mining"),e.qZA(),e.TgZ(98,"button",12),e._uU(99,"Use To Earn"),e.qZA(),e.TgZ(100,"button",13),e._uU(101,"TiTi Staking"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(102,"div",14),e.TgZ(103,"div",15),e.TgZ(104,"h3"),e._uU(105,"Join TiTi Testnet Championships"),e.qZA(),e.qZA(),e.TgZ(106,"div",16),e.TgZ(107,"span"),e._uU(108,"Your Mock-USDC:"),e.qZA(),e.TgZ(109,"span",17),e._uU(110),e.ALo(111,"numberFormat"),e.qZA(),e.TgZ(112,"span"),e._uU(113,"Last Claim Time:"),e.qZA(),e.TgZ(114,"span",17),e._uU(115),e.ALo(116,"date"),e.qZA(),e.TgZ(117,"span"),e._uU(118,"Claim Countdown:"),e.qZA(),e.TgZ(119,"span",17),e._uU(120),e.ALo(121,"async"),e.qZA(),e.TgZ(122,"button",18),e.NdJ("click",function(){return n.claimMUSDC()}),e._uU(123),e.qZA(),e.TgZ(124,"button",19),e.NdJ("click",function(){return n.claimRinkebyETH()}),e._uU(125,"Claim Rinkeby-ETH"),e.qZA(),e.qZA(),e.qZA(),e._UZ(126,"div",20),e.TgZ(127,"div",21),e.TgZ(128,"div",22),e.TgZ(129,"div",23),e.TgZ(130,"h3",24),e._uU(131,"Total TiTi Staking Ranking"),e.qZA(),e.TgZ(132,"span",25),e._uU(133,"Your TiTi Balance:"),e.qZA(),e.TgZ(134,"span",25),e._uU(135),e.ALo(136,"numberFormat"),e.qZA(),e.TgZ(137,"span",25),e._uU(138,"Your Staked Amount:"),e.qZA(),e.TgZ(139,"span",25),e._uU(140),e.ALo(141,"numberFormat"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(142,"div",26),e.TgZ(143,"h3",27),e._uU(144),e.qZA(),e.TgZ(145,"span",28),e._uU(146,"Rank"),e.qZA(),e.TgZ(147,"span",29),e._uU(148,"Address"),e.qZA(),e.TgZ(149,"span",30),e._uU(150,"Staking Amount"),e.qZA(),e._UZ(151,"div",31),e.TgZ(152,"div",32),e.YNc(153,D,8,6,"div",33),e.qZA(),e.qZA(),e.qZA(),e._UZ(154,"div",20),e.qZA()),2&t&&(e.xp6(110),e.hij("",e.xi3(111,10,n.USDCBalance,4)," Mock-USDC"),e.xp6(5),e.Oqu(e.Dn7(116,13,1e3*n.lastClaimTime,"y-M-dd HH:mm:ss","UTC")),e.xp6(5),e.Oqu(e.lcZ(121,17,n.counter$)),e.xp6(2),e.Q6J("ngClass",n.claimable?"action-button":"action-button-disabled")("disabled",!n.claimable||n.loading),e.xp6(1),e.Oqu(n.loading?"waiting...":"Claim 1000 Mock-USDC"),e.xp6(12),e.hij("",e.xi3(136,19,n.TiTiBalance,4)," TiTi"),e.xp6(5),e.hij("",e.xi3(141,22,n.stakedTiTi,4)," TiTi"),e.xp6(4),e.hij("Your Rank: #",n.myRank,""),e.xp6(9),e.Q6J("ngForOf",n.stakingList))},directives:[h.yS,M.Hw,v.lW,h.rH,m.mk,m.sg],pipes:[P.p,m.uU,m.Ov],styles:[".testnet-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;padding:12px 36px;grid-template-columns:1fr 1fr 1fr}.testnet-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;margin-bottom:24px;font-weight:500}.testnet-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:21px;margin:0;font-weight:500}.testnet-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.subtitle[_ngcontent-%COMP%]{font-size:21px!important;color:#45e5c9;margin:0}.title[_ngcontent-%COMP%]{color:#000}.titi-dark-theme[_nghost-%COMP%]   .title[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.label[_ngcontent-%COMP%]{color:#45e5c9;margin:24px 0 8px}.titi-dark-theme[_nghost-%COMP%]   .divider[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:20px 0;grid-column-start:span 3;background:linear-gradient(90deg,#90fac994,#0F5F4F,#90fac994)}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:20px 0;grid-column-start:span 3;background:#afafaf5b}.action-button[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#49CCB3,#25B197)!important;color:#000}"]}),i})()}];let O=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[h.Bz.forChild(U)],h.Bz]}),i})();o(41777);var _=o(90508),T=o(91314),B=(o(70925),o(98962));const j={provide:new e.OlP("mat-menu-scroll-strategy"),deps:[T.aV],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[j],imports:[[m.ez,_.BQ,_.si,T.U8],B.ZD,_.BQ]}),i})();var Y=o(87841);let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,O,v.ot,M.Ps,L,Y.m]]}),i})()}}]);