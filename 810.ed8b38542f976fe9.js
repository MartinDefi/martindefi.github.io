"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[810],{10351:(A,v,o)=>{o.r(v),o.d(v,{ActivityModule:()=>p});var r=o(69808),l=o(91083),O=o(17445),x=o(54004),t=o(5e3),g=o(47423),u=o(68326),m=o(85899);function y(n,a){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"mat-progress-bar",13),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Q6J("value",e.activityData[i.uuid])}}function f(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"async"),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.activityData[i.uuid])," ")}}function h(n,a){if(1&n&&(t.TgZ(0,"div",14),t._uU(1),t.qZA()),2&n){const i=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.hij(" ",e.activityData[i.uuid],"")}}function _(n,a){if(1&n&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t._uU(2),t.qZA(),t.YNc(3,y,2,1,"div",11),t.YNc(4,f,3,3,"div",12),t.YNc(5,h,2,1,"div",12),t.qZA()),2&n){const i=a.$implicit;t.xp6(2),t.hij("",i.lable,":"),t.xp6(1),t.Q6J("ngIf","processbar"===i.type),t.xp6(1),t.Q6J("ngIf","countdown"===i.type),t.xp6(1),t.Q6J("ngIf","common"===i.type)}}const d=[{path:"",component:(()=>{class n{constructor(i,e){this.activedRoute=i,this.location=e}getCounter(i){const e=new Date(i);return(0,O.F)(1e3).pipe((0,x.U)(()=>this.dhms(e.getTime()-(new Date).getTime())))}dhms(i){return[parseInt(i/864e5+"")+"d",parseInt(i%864e5/36e5+"")+"h",parseInt(i%36e5/6e4+"")+"m",parseInt(i%6e4/1e3+"")+"s"].join(":")}ngOnInit(){this.getActivityInfo().then(()=>this.getActivityData()).then(i=>this.rebuildData(i)).then(i=>this.activityData=i)}getActivityInfo(){const i=this.activedRoute.snapshot.paramMap.get("activityName");return fetch(`/assets/activity/${i}.json`).then(e=>e.text()).then(e=>this.activityInfo=JSON.parse(e))}getActivityData(){return{activityProgress:"40",activityCountdown:"January 1, 2023 12:00:00",totalRewards:"100 TiTi",todayRewards:"100 TiTi",claimableRewards:"10 TiTi"}}rebuildData(i){var e;return null===(e=this.activityInfo)||void 0===e||e.metadata.forEach((c,M)=>{"countdown"===c.type&&(i[c.uuid]=this.getCounter(i[c.uuid]))}),i}goBack(){this.location.back()}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(l.gz),t.Y36(r.Ye))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-activity"]],decls:15,vars:3,consts:[[1,"mat-elevation-z4","activity-wrapper"],[1,"activity-title"],["mat-button","","color","primary",1,"back-btn",3,"click"],[2,"margin-right","4px"],[1,"activity-data-wrapper"],["class","activity-data-item",4,"ngFor","ngForOf"],[1,"divider"],[1,"desc-title"],[1,"descripion"],[1,"activity-data-item"],[1,"lable"],[4,"ngIf"],["class","value",4,"ngIf"],["mode","determinate",3,"value"],[1,"value"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"button",2),t.NdJ("click",function(){return e.goBack()}),t.TgZ(3,"mat-icon",3),t._uU(4,"arrow_back"),t.qZA(),t._uU(5," back "),t.qZA(),t.TgZ(6,"h1"),t._uU(7),t.qZA(),t.qZA(),t.TgZ(8,"div",4),t.YNc(9,_,6,4,"div",5),t.qZA(),t._UZ(10,"div",6),t.TgZ(11,"p",7),t._uU(12,"Tips:"),t.qZA(),t.TgZ(13,"p",8),t._uU(14),t.qZA(),t.qZA()),2&i&&(t.xp6(7),t.Oqu(null==e.activityInfo?null:e.activityInfo.name),t.xp6(2),t.Q6J("ngForOf",null==e.activityInfo?null:e.activityInfo.metadata),t.xp6(5),t.Oqu(null==e.activityInfo?null:e.activityInfo.description))},directives:[g.lW,u.Hw,r.sg,r.O5,m.pW],pipes:[r.Ov],styles:[".activity-wrapper[_ngcontent-%COMP%]{padding:48px;margin-right:60px;width:90%;min-height:calc(100vh - 200px)}.titi-dark-theme[_nghost-%COMP%]   .divider[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:16px 0;background:linear-gradient(90deg,rgba(255,255,255,0),#0F5F4F,rgba(255,255,255,0))}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:16px 0;background:#dafff8}.activity-title[_ngcontent-%COMP%]{width:90%;display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:36px;top:36px}.desc-title[_ngcontent-%COMP%]{margin-left:12px;color:#00c997}.descripion[_ngcontent-%COMP%]{width:100%;padding:4px 12px;font-size:8px;word-wrap:break-word;word-break:break-all;white-space:pre-line;overflow-x:hidden;overflow-y:scroll}.activity-data-wrapper[_ngcontent-%COMP%]{padding:12px;width:60%;margin:0 15%}.activity-data-item[_ngcontent-%COMP%]{margin:28px 0;display:grid;font-size:18px;grid-template-columns:50% 50%;align-items:center}.activity-data-item[_ngcontent-%COMP%]   .lable[_ngcontent-%COMP%]{justify-self:start;align-self:center}.activity-data-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{justify-self:end;align-self:center;color:#2b9177}.titi-dark-theme[_nghost-%COMP%]   .value[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .value[_ngcontent-%COMP%]{color:#00ffea}@media screen and (max-width: 780px){.activity-wrapper[_ngcontent-%COMP%]{width:calc(100% - 24px);padding:72px 12px 12px;box-sizing:border-box}.activity-title[_ngcontent-%COMP%]{width:100%}.activity-data-wrapper[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.back-btn[_ngcontent-%COMP%]{position:absolute;left:12px;top:24px}.activity-data-wrapper[_ngcontent-%COMP%]{padding:12px;width:100%;margin:0;box-sizing:border-box}.descripion[_ngcontent-%COMP%]{box-sizing:border-box}}"]}),n})()}];let s=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[l.Bz.forChild(d)],l.Bz]}),n})(),p=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[r.ez,s,m.Cv,u.Ps,g.ot]]}),n})()},4128:(A,v,o)=>{o.d(v,{D:()=>m});var r=o(68306),l=o(54742),O=o(38421),x=o(63269),t=o(25403),g=o(83268),u=o(31810);function m(...y){const f=(0,x.jO)(y),{args:h,keys:_}=(0,l.D)(y),C=new r.y(d=>{const{length:s}=h;if(!s)return void d.complete();const p=new Array(s);let n=s,a=s;for(let i=0;i<s;i++){let e=!1;(0,O.Xf)(h[i]).subscribe(new t.Q(d,c=>{e||(e=!0,a--),p[i]=c},()=>n--,void 0,()=>{(!n||!e)&&(a||d.next(_?(0,u.n)(_,p):p),d.complete())}))}});return f?C.pipe((0,g.Z)(f)):C}}}]);