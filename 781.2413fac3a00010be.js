"use strict";(self.webpackChunkapp_titi_frontend=self.webpackChunkapp_titi_frontend||[]).push([[781],{43781:(B,k,i)=>{i.r(k),i.d(k,{TestnetModule:()=>z});var T=i(69808),v=i(91083),l=i(5963),_=i(54004),A=i(28321),S=i(98538),p=i.n(S),e=i(5e3),I=i(53405),s=i(31657),c=i(94602),C=i(11730),Z=i(68326),u=i(47423),f=i(75303);function m(a,o){if(1&a&&(e.TgZ(0,"div",37),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"span",38),e._uU(4),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.ALo(7,"numberFormat"),e.qZA(),e.qZA()),2&a){const t=o.$implicit,n=o.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.address),e.xp6(2),e.hij("",e.xi3(7,3,t.amount,4)," TiTi")}}const g=[{path:"",component:(()=>{class a{constructor(t,n,r,h){this.graphService=t,this.refreshService=n,this.accountService=r,this.web3Service=h,this.USDCBalance=0,this.lastClaimTime=0,this.claimPeriod=0,this.claimable=!1,this.loading=!0,this.TiTiBalance=0,this.stakedTiTi=0,this.myRank="100+",this.rank=1e3,this.currentAddress="",this.stakingList=[]}ngOnInit(){this.initData(),this.unregister=this.refreshService.registerFunction(()=>this.initData()),this.counter$=(0,l.H)(0,1e3).pipe((0,_.U)(()=>{const t=1e3*this.lastClaimTime+1e3*this.claimPeriod-(new Date).getTime();return this.claimable=t<=0,(0,A.fA)(t)}))}ngOnDestroy(){this.unregister()}initData(){this.accountService.getCurrentAccountAsyn().then(t=>(this.currentAddress=t,this.fetchTiTiStakingUserRank())),this.fetchBalanceOfUSDC(),this.fetchTiTiBalance(),this.fetchStakedTiTi(),this.fetchLastClaimTime(),this.fetchClaimPeriod()}fetchLastClaimTime(){this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("USDC","lastClaimTimes",[t]).then(n=>{this.lastClaimTime=1*n[0],this.loading=!1},()=>this.loading=!1))}fetchClaimPeriod(){this.web3Service.invokeContract("USDC","claimPeriod",[]).then(t=>{this.claimPeriod=1*t[0]})}fetchTiTiStakingUserRank(){this.graphService.fetchTiTiStakingUserRank(this.rank).then(({data:t})=>{this.myRank="1000+",t.tiTiStakings&&t.tiTiStakings.length>0&&(this.stakingList=t.tiTiUserStakings.map((n,r)=>(n.id===this.currentAddress.toLowerCase()&&(this.myRank=`${r+1}`),{address:n.id,amount:new(p())(n.share).mul(new(p())(t.tiTiStakings[0].totalAmount)).div(new(p())(t.tiTiStakings[0].totalShare)).mul(new(p())("10000")).div(new(p())("10").pow(new(p())("18"))).toNumber()/1e4})))})}fetchBalanceOfUSDC(){this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("USDC","balanceOf",[t]).then(n=>{this.USDCBalance=n[0]/10**6}))}fetchTiTiBalance(){return this.accountService.getCurrentAccountAsyn().then(t=>this.web3Service.invokeContract("TiTiToken","balanceOf",[t]).then(n=>{this.TiTiBalance=n[0]/10**18}))}fetchStakedTiTi(){return this.accountService.getCurrentAccountAsyn().then(t=>Promise.all([this.web3Service.invokeContract("TiTiStaking","getStakeValue",[t]),this.web3Service.invokeContract("TiTiStaking","users",[t]),this.web3Service.invokeContract("TiTiStaking","WITHDRAW_DURATION",[]),this.web3Service.invokeContract("TiTiStaking","UNBONDING_DURATION",[]),this.web3Service.invokeContract("TiTiStaking","totalTiTi",[])]).then(([n,r,h,w,R])=>{const P=new(p())(r.share),U=new(p())(r.unbondShare);(new Date).getTime(),P.isZero()||Number.parseFloat((new(p())(n[0]).mul(U).div(P).div(new(p())(10**14)).toNumber()/1e4).toFixed(4)),this.stakedTiTi=n[0]/10**18}))}claimMUSDC(){this.loading=!0,this.web3Service.invokeContract("USDC","claim",[]).then(t=>{this.loading=!1},()=>this.loading=!1)}claimRinkebyETH(){window.open("https://faucets.chain.link/rinkeby")}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(I.h),e.Y36(s.g),e.Y36(c.B),e.Y36(C.Uc))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-testnet"]],decls:161,vars:25,consts:[[1,"testnet-wrapper"],[1,"mat-elevation-z4","testnet-card"],[1,"title"],["routerLink","/testnet",2,"font-size","16px"],[2,"font-size","18px"],[1,"label"],[2,"width","100%","display","grid","grid-template-columns","2fr 4fr 1fr 1fr","row-gap","16px","column-gap","8px","padding","12px","margin-bottom","24px","border","1px solid rgb(132, 188, 173)","border-radius","0px"],[1,"divider",2,"grid-column-start","span 4","margin","8px 0"],[1,"label",2,"font-size","18px"],["href","https://docs.titi.finance/titi-testent/testnet-champion-contest-items","target","_blank"],["href","https://docs.titi.finance/","target","_blank"],[1,"action-btn-list"],["mat-raised-button","","routerLink","/mmf",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/lpmining",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/use2earn",1,"action-button",2,"width","100%","justify-self","center"],["mat-raised-button","","routerLink","/titiStaking",1,"action-button",2,"width","100%","justify-self","center"],[1,"gradient-card","testnet-card",2,"grid-template-columns","1fr 1fr 1fr"],[1,"gradient-card-title",2,"grid-column-start","span 3","justify-self","center","width","100%"],[1,"gradient-card-content",2,"grid-column-start","span 3","grid-row-start","span 3","display","grid","width","100%","grid-template-columns","1fr 1fr","row-gap","12px","column-gap","36px"],[2,"justify-self","end"],["mat-raised-button","",2,"justify-self","center","width","70%",3,"ngClass","disabled","click"],["mat-raised-button","",1,"action-button",2,"justify-self","center","width","70%",3,"click"],[2,"grid-column-start","span 3","height","40px"],[1,"gradient-card","testnet-card"],[1,"gradient-card-title",2,"width","100%"],[2,"display","grid","grid-template-columns","repeat(12,1fr)","width","100%","row-gap","24px","padding","0 12px"],[2,"grid-column-start","span 12","justify-self","center"],[1,"stakedinfo-label"],[1,"stakedinfo-value"],[1,"gradient-card-content",2,"display","grid","grid-template-columns","repeat(12,1fr)","width","100%"],[2,"grid-column-start","span 12","justify-self","center","padding","24px 0 12px"],[2,"grid-column-start","span 1","justify-self","center"],[2,"grid-column-start","span 7","justify-self","center"],[2,"grid-column-start","span 4","justify-self","center"],[1,"divider",2,"grid-column-start","span 12","margin","12px 0"],[2,"grid-column-start","span 12","width","100%","max-height","250px","min-height","150px","overflow-y","scroll","overflow-x","hidden"],["style","display: grid;grid-template-columns:1fr  7fr 4fr;justify-items: center;padding: 8px 0;",4,"ngFor","ngForOf"],[2,"display","grid","grid-template-columns","1fr  7fr 4fr","justify-items","center","padding","8px 0"],[2,"width","100%","overflow","hidden","text-overflow","ellipsis","text-align","center"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h2",2),e._uU(3," TiTi Testnet Championships "),e.TgZ(4,"a",3),e.TgZ(5,"mat-icon"),e._uU(6," open_in_new "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"div"),e.TgZ(8,"p",4),e.TgZ(9,"span",5),e._uU(10,"Duration:"),e.qZA(),e._uU(11," UTC 12:00:00 08/01/2022 - UTC 12:00:00 08/29/2022 "),e.qZA(),e.TgZ(12,"p",4),e.TgZ(13,"span",5),e._uU(14,"Prize Money Pool: "),e.qZA(),e._uU(15,"$17,000"),e.qZA(),e.TgZ(16,"p",4),e.TgZ(17,"span",5),e._uU(18,"Prize Money Distribution"),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"span"),e._uU(21,"Winners' Title"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"Position"),e.qZA(),e.TgZ(24,"span"),e._uU(25,"Prize"),e.qZA(),e.TgZ(26,"span"),e._uU(27,"Num"),e.qZA(),e._UZ(28,"div",7),e.TgZ(29,"span"),e._uU(30,"God Champions"),e.qZA(),e.TgZ(31,"span"),e._uU(32,"1st Place"),e.qZA(),e.TgZ(33,"span"),e._uU(34,"$500"),e.qZA(),e.TgZ(35,"span"),e._uU(36,"1"),e.qZA(),e.TgZ(37,"span"),e._uU(38,"Superhero"),e.qZA(),e.TgZ(39,"span"),e._uU(40,"2nd-3rd Place"),e.qZA(),e.TgZ(41,"span"),e._uU(42,"$200"),e.qZA(),e.TgZ(43,"span"),e._uU(44,"2"),e.qZA(),e.TgZ(45,"span"),e._uU(46,"Heroes"),e.qZA(),e.TgZ(47,"span"),e._uU(48,"4th-6th Place"),e.qZA(),e.TgZ(49,"span"),e._uU(50,"$100"),e.qZA(),e.TgZ(51,"span"),e._uU(52,"3"),e.qZA(),e.TgZ(53,"span"),e._uU(54,"Warriors"),e.qZA(),e.TgZ(55,"span"),e._uU(56,"7th-100th Place"),e.qZA(),e.TgZ(57,"span"),e._uU(58,"$40"),e.qZA(),e.TgZ(59,"span"),e._uU(60,"94"),e.qZA(),e.TgZ(61,"span"),e._uU(62,"Athletes"),e.qZA(),e.TgZ(63,"span"),e._uU(64,"101st-400th Place"),e.qZA(),e.TgZ(65,"span"),e._uU(66,"$20"),e.qZA(),e.TgZ(67,"span"),e._uU(68,"300"),e.qZA(),e.TgZ(69,"span"),e._uU(70,"Daily Lucky Draw"),e.qZA(),e.TgZ(71,"span"),e._uU(72,"Random select 20 participants ranking 1~1000 everyday"),e.qZA(),e.TgZ(73,"span"),e._uU(74,"$10"),e.qZA(),e.TgZ(75,"span"),e._uU(76,"560"),e.qZA(),e.qZA(),e.TgZ(77,"p",8),e._uU(78,"Champion Rules"),e.qZA(),e.TgZ(79,"p"),e._uU(80,"Each competitor will start on the same ready line and claim Mock-USDC every 24 hours since Aug. 1st. Afterwards, use your own skills and strategy to earn TiTi Token in Testnet with Mock-USDC. How to earn TiTi? Please refer to the "),e.TgZ(81,"a",9),e._uU(82,"tutorial here"),e.qZA(),e._uU(83," ."),e.qZA(),e.TgZ(84,"p"),e._uU(85,"Earn as many TiTi tokens as possible and stake to the TiTi Staking Pool. The more TiTi you staked, the higher chance you will top the rank and become the god-champion. The prize money will be distributed to you based on your ranking as illustrated above."),e.qZA(),e.TgZ(86,"p"),e._uU(87,"At the same time, we will randomly select 20 lucky winners ranking 1~1000 who stake TiTi in TiTi Staking Pool. For details, please refer to "),e.TgZ(88,"a",10),e._uU(89,"our blog artilce"),e.qZA(),e._uU(90,"."),e.qZA(),e.TgZ(91,"p",8),e._uU(92,"Reminders"),e.qZA(),e.TgZ(93,"p"),e._uU(94,"1. You can claim 10,000 Mock-USDC every 24hrs."),e.qZA(),e.TgZ(95,"p"),e._uU(96,"2. In the testnet, TiTi/TiUSD/MockUSDC transfers between users account are banned to make sure the championships is fair for every competitor. These restrictions will be removed at mainnet."),e.qZA(),e.TgZ(97,"p",8),e._uU(98,"The behavior of obtaining TiTi is as follows:"),e.qZA(),e.TgZ(99,"div",11),e.TgZ(100,"button",12),e._uU(101,"MMF"),e.qZA(),e.TgZ(102,"button",13),e._uU(103,"LP Mining"),e.qZA(),e.TgZ(104,"button",14),e._uU(105,"Use To Earn"),e.qZA(),e.TgZ(106,"button",15),e._uU(107,"TiTi Staking"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(108,"div",16),e.TgZ(109,"div",17),e.TgZ(110,"h3"),e._uU(111,"Join TiTi Testnet Championships"),e.qZA(),e.qZA(),e.TgZ(112,"div",18),e.TgZ(113,"span"),e._uU(114,"Your Mock-USDC:"),e.qZA(),e.TgZ(115,"span",19),e._uU(116),e.ALo(117,"numberFormat"),e.qZA(),e.TgZ(118,"span"),e._uU(119,"Last Claim Time:"),e.qZA(),e.TgZ(120,"span",19),e._uU(121),e.ALo(122,"date"),e.qZA(),e.TgZ(123,"span"),e._uU(124,"Claim Countdown:"),e.qZA(),e.TgZ(125,"span",19),e._uU(126),e.ALo(127,"async"),e.qZA(),e.TgZ(128,"button",20),e.NdJ("click",function(){return n.claimMUSDC()}),e._uU(129),e.qZA(),e.TgZ(130,"button",21),e.NdJ("click",function(){return n.claimRinkebyETH()}),e._uU(131,"Claim Rinkeby-ETH"),e.qZA(),e.qZA(),e.qZA(),e._UZ(132,"div",22),e.TgZ(133,"div",23),e.TgZ(134,"div",24),e.TgZ(135,"div",25),e.TgZ(136,"h3",26),e._uU(137,"Total TiTi Staking Ranking"),e.qZA(),e.TgZ(138,"span",27),e._uU(139,"Your TiTi Balance:"),e.qZA(),e.TgZ(140,"span",28),e._uU(141),e.ALo(142,"numberFormat"),e.qZA(),e.TgZ(143,"span",27),e._uU(144,"Your Staked Amount:"),e.qZA(),e.TgZ(145,"span",28),e._uU(146),e.ALo(147,"numberFormat"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(148,"div",29),e.TgZ(149,"h3",30),e._uU(150),e.qZA(),e.TgZ(151,"span",31),e._uU(152,"Rank"),e.qZA(),e.TgZ(153,"span",32),e._uU(154,"Address"),e.qZA(),e.TgZ(155,"span",33),e._uU(156,"Staking Amount"),e.qZA(),e._UZ(157,"div",34),e.TgZ(158,"div",35),e.YNc(159,m,8,6,"div",36),e.qZA(),e.qZA(),e.qZA(),e._UZ(160,"div",22),e.qZA()),2&t&&(e.xp6(116),e.hij("",e.xi3(117,10,n.USDCBalance,4)," Mock-USDC"),e.xp6(5),e.Oqu(n.lastClaimTime>0?e.Dn7(122,13,1e3*n.lastClaimTime,"y-M-dd HH:mm:ss","UTC"):"- -"),e.xp6(5),e.Oqu(e.lcZ(127,17,n.counter$)),e.xp6(2),e.Q6J("ngClass",n.claimable?"action-button":"action-button-disabled")("disabled",!n.claimable||n.loading),e.xp6(1),e.Oqu(n.loading?"waiting...":"Claim 10000 Mock-USDC"),e.xp6(12),e.hij("",e.xi3(142,19,n.TiTiBalance,4)," TiTi"),e.xp6(5),e.hij("",e.xi3(147,22,n.stakedTiTi,4)," TiTi"),e.xp6(4),e.hij("Your Rank: #",n.myRank,""),e.xp6(9),e.Q6J("ngForOf",n.stakingList))},directives:[v.yS,Z.Hw,u.lW,v.rH,T.mk,T.sg],pipes:[f.p,T.uU,T.Ov],styles:[".testnet-wrapper[_ngcontent-%COMP%]{display:grid;width:100%;padding:12px 36px;grid-template-columns:1fr 1fr 1fr}.testnet-wrapper[_ngcontent-%COMP%]   .testnet-card[_ngcontent-%COMP%]{grid-column-start:span 3;width:75%;justify-self:center;margin-bottom:40px}.testnet-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:36px;margin-bottom:24px;font-weight:500}.testnet-wrapper[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:21px;margin:0;font-weight:500}.testnet-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}.subtitle[_ngcontent-%COMP%]{font-size:21px!important;color:#45e5c9;margin:0}.title[_ngcontent-%COMP%]{color:#000}.titi-dark-theme[_nghost-%COMP%]   .title[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff}.label[_ngcontent-%COMP%]{color:#45e5c9;margin:24px 0 8px}.titi-dark-theme[_nghost-%COMP%]   .divider[_ngcontent-%COMP%], .titi-dark-theme   [_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:20px 0;grid-column-start:span 3;background:linear-gradient(90deg,#90fac994,#0F5F4F,#90fac994)}.divider[_ngcontent-%COMP%]{height:1px;width:100%;margin:20px 0;grid-column-start:span 3;background:#afafaf5b}.action-btn-list[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:1fr 1fr 1fr 1fr;padding:12px 0;grid-column-gap:24px;column-gap:24px}.action-button[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#49CCB3,#25B197)!important;color:#000}.stakedinfo-label[_ngcontent-%COMP%], .stakedinfo-value[_ngcontent-%COMP%]{grid-column-start:span 3;justify-self:center}@media screen and (max-width: 1024px){.testnet-wrapper[_ngcontent-%COMP%]   .testnet-card[_ngcontent-%COMP%]{width:100%}.testnet-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center}.action-btn-list[_ngcontent-%COMP%]{grid-row-gap:12px;row-gap:12px}.action-button[_ngcontent-%COMP%], .action-button-disabled[_ngcontent-%COMP%]{grid-column-start:span 2}.stakedinfo-label[_ngcontent-%COMP%]{grid-column-start:span 6;justify-self:start}.stakedinfo-value[_ngcontent-%COMP%]{grid-column-start:span 6;justify-self:end}.gradient-card-content[_ngcontent-%COMP%]{padding:12px 12px 32px}}"]}),a})()}];let x=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[v.Bz.forChild(g)],v.Bz]}),a})();i(41777);var E=i(90508),O=i(91314),y=(i(70925),i(98962));const Y={provide:new e.OlP("mat-menu-scroll-strategy"),deps:[O.aV],useFactory:function(a){return()=>a.scrollStrategies.reposition()}};let H=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[Y],imports:[[T.ez,E.BQ,E.si,O.U8],y.ZD,E.BQ]}),a})();var W=i(87841);let z=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[T.ez,x,u.ot,Z.Ps,H,W.m]]}),a})()},53405:(B,k,i)=>{i.d(k,{h:()=>p});var T=i(70022),v=i(94528),l=i(32856),_=i(28321),A=i(11730),S=i(5e3);let p=(()=>{class e{constructor(){this.APIURL="https://api.thegraph.com/subgraphs/name/ookurumi/titi-on-rinkeby",this.client=new T.f({uri:this.APIURL,cache:new v.h})}fetchMMFSwapPairHourData(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time:Int) {\n      pair(id:$id) {\n        id\n        pairHourData(where: {hourStartTimestamp_gt: $time},orderBy: hourStartTimestamp,orderDirection: desc)  {\n          id\n          hourStartTimestamp\n          fund0\n          fund1\n          token0Price\n          token1Price\n        }\n     }\n   }\n  "),variables:{id:s.toLowerCase(),time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchMMFSwapPairDailyData(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time:Int) {\n      pair(id:$id) {\n        id\n        pairDailyData(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n          id\n          dayStartTimestamp\n          fund0\n          fund1\n          mmfFund0\n          mmfFund1\n          token0Price\n          token1Price\n        }\n     }\n   }\n  "),variables:{id:s.toLowerCase(),time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchAllSwapPairDailyData(){return this.client.query({query:(0,l.Ps)("\n    query($time:Int) {\n      pairs(orderBy: id,orderDirection: desc) {\n        id\n        fund0\n        fund1\n        prv\n        token1{\n          symbol\n          decimals\n        }\n        token0Twap\n        pairDailyData(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n          id\n          dayStartTimestamp\n          fund0\n          fund1\n          token0Price\n          token1Price\n          token0Twap\n          prv\n        }\n        pairHourData(where: {hourStartTimestamp_gt: $time},orderBy: hourStartTimestamp,orderDirection: desc)  {\n          id\n          hourStartTimestamp\n          fund0\n          fund1\n          token0Price\n          token1Price\n          token0Twap\n          prv\n        }\n     }\n   }\n  "),variables:{time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchUniwapPairDailyData(){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time:Int) {\n      uniswapPair(id:$id) {\n        fund0\n        fund1\n        liquidity\n        dailyData(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n          id\n          dayStartTimestamp\n          fund0\n          fund1\n          liquidity\n        }\n     }\n   }\n  "),variables:{id:A.wE.UniswapV2Pair.toLowerCase(),time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchDailyLPTokenStakedValue(){return this.client.query({query:(0,l.Ps)("\n    query($time:Int) \n    {\n        dailyLPStakings(where: {dayTimestamp_gt: $time},orderBy: dayTimestamp,orderDirection: desc)  {\n          id\n          dayTimestamp\n          stakedValue\n        }\n   }\n  "),variables:{id:A.wE.UniswapV2Pair.toLowerCase(),time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchMMFRewardDailyData(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time:Int) {\n      pair(id:$id) {\n        id\n        mmfRewardDailyData(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n          id\n          dayStartTimestamp\n          mmfReward\n        }\n     }\n   }\n  "),variables:{id:s.toLowerCase(),time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchTodayMMFRewardData(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$pairId:ID) {\n      mmfrewardDailyData(id:$id) {\n        id\n        dayStartTimestamp\n        mmfReward\n      }\n      pair(id:$pairId) {\n        id\n        fund0\n        fund1\n      }\n   }\n  "),variables:{id:s.toLowerCase()+"-"+Number.parseInt((new Date).getTime()/864e5+""),pairId:s.toLowerCase()},fetchPolicy:"network-only"})}fetchMMFRewardHourDataIn24H(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time: Int) {\n      pair(id:$id) {\n        id\n        mmfRewardHourData(where: {hourStartTimestamp_gt: $time},orderBy: hourStartTimestamp,orderDirection: desc)  {\n          id\n          hourStartTimestamp\n          mmfReward\n        }\n     }\n   }\n  "),variables:{id:s.toLowerCase(),time:Number.parseInt((new Date).getTime()/1e3-86400+"")},fetchPolicy:"network-only"})}fetchTiTiStakingDailyData(){return this.client.query({query:(0,l.Ps)("\n    query($time:Int) {\n      tiTiStakingEpochDailyDatas(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n        id\n        dayStartTimestamp\n        tvl\n        apy\n        epoch{\n          id\n        }\n      }\n   }\n  "),variables:{time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchEachEpochTotalReward(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID) {\n      tiTiStakingEpoches(where: {id_lt: $id}) {\n        tvl\n        totalReward\n     }\n   }\n  "),variables:{id:s},fetchPolicy:"network-only"})}fetchVaultFund(s){return this.client.query({query:(0,l.Ps)("\n    query($id: ID,$time:Int) {\n      fundVault(id:$id) {\n        id\n        address\n        dailyBalance(where: {dayStartTimestamp_gt: $time},orderBy: dayStartTimestamp,orderDirection: desc)  {\n          id\n          dayStartTimestamp\n          balance\n          token{\n            symbol\n            decimals\n          }\n        }\n     }\n   }\n  "),variables:{id:s,time:(0,_.Mv)()},fetchPolicy:"network-only"})}fetchLastReOrdersData(){return this.client.query({query:(0,l.Ps)("\n    query {\n      reOrders(first: 1, orderBy: lastReordersTime, orderDirection: desc) {\n        id\n        lastReordersTime\n        reordersCondition\n        pavAmount\n      }\n   }\n  "),variables:{},fetchPolicy:"network-only"})}fetchHistoricalMMFStakingEpoch(s){return this.client.query({query:(0,l.Ps)("\n    query ($epochNum:Int){\n      mmfstakingEpoches(where:{epochNum_lt:$epochNum}){\n        epochNum\n        startTimestamp\n        periodFinish\n        totalReward\n      }\n   }\n  "),variables:{epochNum:1*s},fetchPolicy:"network-only"})}fetchHistoricalLPStakingEpoch(s){return this.client.query({query:(0,l.Ps)("\n    query ($epochNum:Int){\n      lpstakingEpoches(where:{epochNum_lt:$epochNum}){\n        epochNum\n        startTimestamp\n        periodFinish\n        totalReward\n      }\n   }\n  "),variables:{epochNum:1*s},fetchPolicy:"network-only"})}fetchTiTiStakingUserRank(s){return this.client.query({query:(0,l.Ps)("\n    query($rank: Int) {\n      tiTiUserStakings(orderBy: share, orderDirection: desc,first:$rank) {\n        id\n        share\n      }\n      tiTiStakings(first: 1){\n        totalAmount\n        totalShare\n      }\n   }\n  "),variables:{rank:s},fetchPolicy:"network-only"})}}return e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=S.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},11730:(B,k,i)=>{i.d(k,{Uc:()=>I,fV:()=>s,wE:()=>c});var T=i(98538),v=i.n(T),l=i(5e3),_=i(5437),A=i(94602),S=i(57261),p=i(48966),e=i(31657);let I=(()=>{class C{constructor(u,f,m,M,g){this.web3ModalService=u,this.accountService=f,this._snackBar=m,this.dialog=M,this.refreshService=g,this.badge=0,this.recentTransaction=new Set(JSON.parse(localStorage.getItem("recentTransaction")||"[]"))}clearBadge(){this.badge=0}initWeb3(){return new Promise((u,f)=>{this.web3?(this.web3.currentProvider||this.web3.setProvider(this.web3ModalService.provider),u()):Promise.all([Promise.all([i.e(165),i.e(445)]).then(i.t.bind(i,34445,23)),this.web3ModalService.getProvider()]).then(([m,M])=>{this.web3=new m.default(M),u()}).catch(f)})}getWeb3Instance(){return this.web3}setProvider(u){return this.initWeb3().then(()=>this.web3.setProvider(u))}invokeContract(u,f,m,M){return this.initWeb3().then(()=>Promise.all([this.getFunctionABI(u,f),this.accountService.getCurrentAccountAsyn()]).then(([g,x])=>{const d=this.web3.eth.abi.encodeFunctionCall(g,m),O={from:x,to:c[u],data:d,value:M};if("view"==g.stateMutability)return this.web3.eth.call(O).then(D=>this.web3.eth.abi.decodeParameters(g.outputs,D));{let D="";return this.web3.eth.sendTransaction(O).on("transactionHash",y=>{D=y;const b=Array.from(this.recentTransaction);b.unshift({txHash:y,contractName:u,functionName:f,params:m,receipt:null}),this.recentTransaction=new Set(b),localStorage.setItem("recentTransaction",JSON.stringify(b)),this.badge++}).on("receipt",y=>{this.recentTransaction.forEach(b=>{b.txHash===y.transactionHash&&(b.receipt=y)}),localStorage.setItem("recentTransaction",JSON.stringify(Array.from(this.recentTransaction))),y.status?(this.refreshService.invokeFunctions(),this._snackBar.open("Successful transaction!","close",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})):this._snackBar.open("Transaction failed!","close",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}).on("error",y=>{this.recentTransaction.forEach(b=>{b.txHash===D&&(b.receipt={status:!1})}),localStorage.setItem("recentTransaction",JSON.stringify(Array.from(this.recentTransaction))),this._snackBar.open("Transaction failed!","close",{horizontalPosition:"center",verticalPosition:"top",duration:3e3})}).then(y=>y)}})).catch(g=>{throw this._snackBar.open("Unknown Error!","close",{horizontalPosition:"center",verticalPosition:"top",duration:3e3}),g})}getFunctionABI(u,f){return fetch(`/assets/abi/${u}.json`).then(m=>m.text()).then(m=>JSON.parse(m).abi).then(m=>{const M=m.filter(g=>g.name==f&&"function"==g.type);if(0===M.length)throw new Error("No such function");return M[0]})}decodeLog(u,f,m){return this.initWeb3().then(()=>this.web3.eth.abi.decodeLog(u,f,m))}openApproveModal(u,f,m,M){this.accountService.getCurrentAccountAsyn().then(g=>this.invokeContract(u,"allowance",[g,c[m]])).then(g=>{f.gt(new(v())(g[0]))?i.e(288).then(i.bind(i,30288)).then(({ApproveModalComponent:x})=>{const d=this.dialog.open(x);d.componentInstance.approveToken=u,d.componentInstance.approveValue=s.toString(),d.componentInstance.approveSpender=m,d.afterClosed().subscribe(M)}):M(!0)})}}return C.\u0275fac=function(u){return new(u||C)(l.LFG(_.y),l.LFG(A.B),l.LFG(S.ux),l.LFG(p.uw),l.LFG(e.g))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const s=new(v())("2").pow(new(v())("256")).sub(new(v())("1")),c={TiUSD:"0xc35d591e9d5D69bf1F2513828CA57B5d15CC66c8",TiTiToken:"0x2C8d6418499a1482B8624Dc7Ee64236aA303d30B",USDC:"0xE44cff9843da14F400425d4689527980c7075089",MAMMSwapPair:"0x1537037DA6a93A4FA7b31429decCfB0498486769",MarketMakerFund:"0xDbd5a6b688124AedBd9fCc65D0d0825feFa06e0f",MMFLPStakingPool:"0xcF98Bf982de55bE7cf9Bb1236483e73688B93774",LPStakingPool:"0x8D30cEa7EDbdF670934b8030798f2aB272605165",RainyDayFundVault:"0x90cD26ADF1B0cF8A25B8Cc836c4c068200Cda6F3",ProtocolFeeVault:"0x6e981Bf0bfDda117ca5BeED1C8b82CDc6C255Da5",ReOrdersController:"0x955232EE3C3B9bc1a180801986db98821Bb88812",TiTiStaking:"0x74E1e042741bc4a97195d22be54CD050A95D12FF",UniswapV2Pair:"0xA79Cbbe1303Ef498d72A9D5d1270740D6299503b",TiTiBackendV1:"0xF00A0a6a162964cCb91d578E0317E8Ba44b4c8c8",TiTiMerkleDistributor:"0xd92701846815a029C855041EEb05De57D1293277"}}}]);